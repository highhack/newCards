(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){e.exports={register:"Registration_register__1kewo",errorText:"Registration_errorText__2agbz"}},20:function(e,t,n){e.exports={table:"Cards_table__1Dkqf",inputTitlePack:"Cards_inputTitlePack__31HLH"}},23:function(e,t,n){e.exports={table:"Packs_table__2fqTh",inputTitlePack:"Packs_inputTitlePack__3sKvs"}},37:function(e,t,n){e.exports={searchPack:"searchPack_searchPack__3wQsW"}},44:function(e,t,n){},45:function(e,t,n){},52:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(21),s=n.n(a),i=(n(44),n(45),n(7)),o=n(9),d=n.n(o),u=n(0),l=function(){return Object(u.jsxs)("nav",{className:d.a.nav,children:[Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/Login",activeClassName:d.a.active,children:"Login"})}),Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/Registration",activeClassName:d.a.active,children:"Registration"})}),Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/forgot-password",activeClassName:d.a.active,children:"Forgot Password"})}),Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/Profile",activeClassName:d.a.active,children:"Profile"})}),Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/packs",activeClassName:d.a.active,children:"Packs"})}),Object(u.jsx)("div",{className:d.a.item,children:Object(u.jsx)(i.b,{to:"/cards",activeClassName:d.a.active,children:"Cards"})})]})},j=n(4),b=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"404"}),Object(u.jsx)("div",{children:"Page not found!"}),Object(u.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},O=n(6),h=n(15),x=n.n(h),f=n(2),p=n(39),g=(n(52),function(e){var t=e.id,n=e.onBlur,c=e.disabled,r=e.onClick,a=e.primary,s=void 0!==a&&a,i=e.size,o=void 0===i?"medium":i,d=e.backgroundColor,l=e.label,j=Object(p.a)(e,["id","onBlur","disabled","onClick","primary","size","backgroundColor","label"]),b=s?"storybook-button--primary":"storybook-button--secondary";return Object(u.jsx)("button",Object(f.a)(Object(f.a)({id:t,disabled:c,onBlur:n,type:"button",onClick:r,className:["storybook-button","storybook-button--".concat(o),b].join(" "),style:{backgroundColor:d}},j),{},{children:l}))}),v=n(5),m=n(17),k=n.n(m),T=k.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),S=function(e,t){return T.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},C=function(){return T.get("cards/pack?pageCount=10").then((function(e){return e.data}))},P=function(e){return T.post("cards/pack",{cardsPack:{name:e}}).then((function(e){return e.data}))},y=function(e){return T.delete("cards/pack?id=".concat(e)).then((function(e){return e.data}))},E=function(e){return T.get("cards/card?&cardsPack_id=".concat(e,"&pageCount=10")).then((function(e){return e.data}))},w=function(e,t){return T.post("cards/card",{addCard:{question:e,answer:t}}).then((function(e){return e.data}))},N={errorText:null,addedUser:!1,loadingStatus:"idle"},R=function(e){return{type:"SET-ERROR-TEXT",errorText:e}},A=function(e){return{type:"SET-LOADING-STATUS",loadingStatus:e}},_=function(){var e=Object(v.c)((function(e){return e.register})),t=Object(v.b)(),n=e.errorText,r=e.addedUser,a=e.loadingStatus,s=Object(c.useState)(""),i=Object(O.a)(s,2),o=i[0],d=i[1],l=Object(c.useState)(""),b=Object(O.a)(l,2),h=b[0],f=b[1],p=Object(c.useState)(""),m=Object(O.a)(p,2),k=m[0],T=m[1];return r?Object(u.jsx)(j.a,{to:"/login"}):Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:" Please fill in the blank fields and press sign up "}),Object(u.jsxs)("form",{className:x.a.register,children:["loading"===a?Object(u.jsx)("div",{children:"Loading..."}):"",Object(u.jsx)("div",{children:"Email"}),Object(u.jsx)("input",{onChange:function(e){d(e.currentTarget.value)}}),Object(u.jsx)("div",{children:"Password"}),Object(u.jsx)("input",{onChange:function(e){f(e.currentTarget.value)}}),Object(u.jsx)("div",{children:"Password"}),Object(u.jsx)("input",{onChange:function(e){T(e.currentTarget.value)}}),Object(u.jsx)("div",{className:x.a.errorText,children:null!==n?Object(u.jsx)("div",{className:x.a.errorText,children:n}):""}),Object(u.jsx)(g,{disabled:"loading"===a,onBlur:function(){t(R(null))},label:"Sign Up",onClick:function(){if(h!==k)return t(R("password is not correct"));t(function(e,t){return function(n){n(A("loading")),S(e,t).then((function(e){void 0!==e.addedUser&&n({type:"SET-ADDED-USER"}),n(A("succeeded"))})).catch((function(e){n(R(e.response.data.error)),n(A("failed"))}))}}(o,h))},backgroundColor:"blue"})]})]})},D=k.a.create(Object(f.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),L=function(e){return D.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\"> password recovery link: <a href='https://highhack.github.io/Page4/$token$'> link</a></div>"})},G=function(){return D.post("auth/me",{})},U={status:"idle",error:null,isInitialized:!0,forgotPassword:!1},I=function(e){return{type:"CARDS/FORGOT-PASSWOR",forgotPassword:e}},B=function(e){return{type:"CARDS/SET-APP-STATUS",status:e}},F=function(e){return{type:"CARDS/SET-APP-ERROR",error:e}},H=r.a.memo((function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(v.c)((function(e){return e.forgotPassword.status})),s=Object(v.c)((function(e){return e.forgotPassword.error})),i=Object(v.b)(),o=Object(c.useCallback)((function(){var e;i((e=n,function(t){t(B("loading")),t(I(!0)),L(e).then((function(e){t(B("succeeded")),t(F(null))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(F(n)),t(B("failed"))})).finally((function(){t(I(!1))}))})),r("")}),[n,i]);return Object(c.useEffect)((function(){i((function(e){G().then((function(e){})).catch((function(e){e.response?e.response.data.error:e.message})).finally((function(){}))}))}),[i]),Object(u.jsxs)("div",{style:{marginTop:"25px"},children:["Enter your email","loading"===a?Object(u.jsx)("div",{style:{color:"blue"},children:"Loading..."}):null,Object(u.jsx)("input",{type:"email",value:n,onChange:function(e){e.currentTarget.value&&""!==e.currentTarget.value.trim()&&r(e.currentTarget.value)},style:{display:"block",marginLeft:"auto",marginRight:"auto",marginBottom:"5px",marginTop:"5px"}}),"succeeded"===a?Object(u.jsx)("div",{style:{color:"green"},children:" Please check your inbox"}):null,s&&Object(u.jsx)("div",{style:{color:"red"},children:s}),Object(u.jsx)(g,{size:"small",label:"Forgot Password",backgroundColor:"rgb(100 214 124)",onClick:o})]})})),M=function(){return Object(u.jsx)("div",{children:"Profile"})},q=n(14),z=n.n(q),K=n(19),X=k.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return X.post("auth/login",{email:e,password:t,rememberMe:n})},W=function(e){return X.get("cards/pack?packName=".concat(e,"&pageCount=10"))},J={email:"nya-admin@nya.nya",password:"1qazxcvBG",isLoggedIn:!1,rememberMe:!1,errorText:null,loadingStatus:"idle"},$=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},V=function(e){return{type:"login/SET-ERROR-TEXT-LOGGED-IN",errorText:e}},Y=function(e){return{type:"APP/SET-STATUS",loadingStatus:e}},Z=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.login})),n=t.isLoggedIn,r=t.errorText,a=t.rememberMe,s=t.loadingStatus,i=Object(c.useState)("1qazxcvBG"),o=Object(O.a)(i,2),d=o[0],l=o[1],b=Object(c.useState)("nya-admin@nya.nya"),h=Object(O.a)(b,2),f=h[0],p=h[1];return n?Object(u.jsx)(j.a,{to:"/profile"}):Object(u.jsxs)("div",{onClick:function(){e(V(""))},children:[Object(u.jsx)("p",{children:" Please fill in the blank fields and press LOGIN "}),Object(u.jsx)("p",{children:"or use common test account credentials:"}),Object(u.jsxs)("p",{children:["Email: ",Object(u.jsx)("b",{children:"nya-admin@nya.nya"})]}),Object(u.jsxs)("p",{children:["Password: ",Object(u.jsx)("b",{children:"1qazxcvBG"})]}),Object(u.jsxs)("form",{className:x.a.register,children:["loading..."===s?Object(u.jsx)("div",{children:s}):"",Object(u.jsxs)("div",{children:["Email",Object(u.jsx)("input",{type:"email",name:"email",value:f,onChange:function(e){p(e.currentTarget.value)}})]}),Object(u.jsxs)("div",{children:["Password",Object(u.jsx)("input",{type:"password",name:"password",value:d,onChange:function(e){l(e.currentTarget.value)}})]}),Object(u.jsx)("input",{type:"checkbox",name:"rememberMe",onChange:function(t){e(function(e){return{type:"login/CHANG-CHECKBOX-LOGGED-IN",rememberMe:e}}(t.currentTarget.checked))}}),Object(u.jsx)("div",{className:x.a.errorText,children:null!==r?Object(u.jsx)("div",{className:r,children:r}):""}),Object(u.jsx)(g,{label:"Login",onClick:function(){e(function(e,t,n){return function(){var c=Object(K.a)(z.a.mark((function c(r){return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(Y("loading...")),c.prev=1,c.next=4,Q(e,t,n);case 4:r($(!0)),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(1),r(V(c.t0.response.data.error));case 10:r(Y("idle"));case 11:case"end":return c.stop()}}),c,null,[[1,7]])})));return function(e){return c.apply(this,arguments)}}()}(f,d,a))},backgroundColor:"blue",disabled:"loading..."===s})]})]})},ee=n(23),te=n.n(ee),ne={cardPacks:[],newPackTitle:null,id:""},ce=function(e){return{type:"SET-PACKS",cardPacks:e}},re=n(37),ae=n.n(re),se=function(){var e=Object(v.b)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),r=n[0],a=n[1];return Object(u.jsxs)("div",{className:ae.a.searchPack,children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",name:"search",onChange:function(e){a(e.currentTarget.value)}})}),Object(u.jsx)(g,{label:"Search",onClick:function(){var t;e((t=r,function(){var e=Object(K.a)(z.a.mark((function e(n){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Y("loading...")),e.prev=1,e.next=4,W(t);case 4:c=e.sent,n(ce(c.data.cardPacks)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(V(e.t0.response.data.error));case 11:n(Y("idle"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))},backgroundColor:"blue"})]})},ie={cards:[],newCardsTitle:null,id:""},oe=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(O.a)(a,2),o=s[0],d=s[1],l=Object(v.b)();Object(c.useEffect)((function(){var e=function(e){C().then((function(t){e(ce(t.cardPacks))}))};l(e)}),[l]);var j=Object(v.c)((function(e){return e.packs})).cardPacks,b=function(e){l(function(e){return function(t){E(e).then((function(e){t({type:"SET-CARDS",cards:e.cards})}))}}(e))},h=function(e){var t;l((t=e,function(e){y(t).then((function(t){C().then((function(t){e(ce(t.cardPacks))}))}))}))};return void 0===j?Object(u.jsx)("div",{children:"Not Found Packs"}):Object(u.jsxs)("div",{children:[o?Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},placeholder:"Enter name to new pack",value:n,className:te.a.inputTitlePack}),Object(u.jsx)(g,{onClick:function(){var e;l((e=n,function(t){P(e).then((function(e){C().then((function(e){t(ce(e.cardPacks))}))}))})),r("")},label:"Save"})]}):"",Object(u.jsx)(se,{}),Object(u.jsxs)("table",{className:te.a.table,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Cards count"}),Object(u.jsx)("th",{children:"Created"}),Object(u.jsx)("th",{children:"Lest update"}),Object(u.jsx)("th",{children:Object(u.jsx)(g,{onClick:function(){d(!0)},label:"Add Pack"})})]})}),j.map((function(e){return Object(u.jsx)("tbody",{className:te.a.packData,children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.cardsCount}),Object(u.jsx)("td",{children:e.created}),Object(u.jsx)("td",{children:e.updated}),Object(u.jsx)("td",{children:Object(u.jsx)(g,{label:"Update"})}),Object(u.jsx)("td",{children:Object(u.jsx)(g,{onClick:function(){return h(e._id)},label:"Delete"})}),Object(u.jsx)("td",{children:Object(u.jsx)(i.b,{to:"/cards",onClick:function(){return b(e._id)},children:"Cards"})})]})},e._id)}))]})]})},de=n(20),ue=n.n(de),le=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(O.a)(a,2),i=s[0],o=s[1],d=Object(c.useState)(!1),l=Object(O.a)(d,2),j=l[0],b=l[1],h=Object(v.c)((function(e){return e.cards})).cards,x=Object(v.b)();return void 0===h?Object(u.jsx)("div",{children:"Not Found Packs"}):Object(u.jsxs)("div",{children:[j?Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},placeholder:"Enter question",value:n,className:ue.a.inputQuestion}),Object(u.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},placeholder:"Enter answer",value:i,className:ue.a.inputAnswer}),Object(u.jsx)(g,{onClick:function(){x(function(e,t){return function(n){w(e,t)}}(n,i))},label:"Save"})]}):"",Object(u.jsx)(se,{}),Object(u.jsxs)("table",{className:ue.a.table,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Answer"}),Object(u.jsx)("th",{children:"Question"}),Object(u.jsx)("th",{children:"Grade"}),Object(u.jsx)("th",{children:"Shots"}),Object(u.jsx)("th",{children:Object(u.jsx)(g,{onClick:function(){b(!0)},label:"Add Pack"})})]})}),h.map((function(e){return Object(u.jsx)("tbody",{className:ue.a.packData,children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.answer}),Object(u.jsx)("td",{children:e.question}),Object(u.jsx)("td",{children:e.grade}),Object(u.jsx)("td",{children:e.shots}),Object(u.jsx)("td",{children:Object(u.jsx)(g,{label:"Update"})}),Object(u.jsx)("td",{children:Object(u.jsx)(g,{id:e.cardsPack_id,label:"Delete"})})]})},e.cardsPack_id)}))]})]})},je=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(u.jsx)("div",{children:" Hello"})}}),Object(u.jsx)(j.b,{exact:!0,path:"/registration",render:function(){return Object(u.jsx)(_,{})}}),Object(u.jsx)(j.b,{exact:!0,path:"/forgot-password",render:function(){return Object(u.jsx)(H,{})}}),Object(u.jsx)(j.b,{exact:!0,path:"/profile",render:function(){return Object(u.jsx)(M,{})}}),Object(u.jsx)(j.b,{exact:!0,path:"/login",render:function(){return Object(u.jsx)(Z,{})}}),Object(u.jsx)(j.b,{exact:!0,path:"/packs",render:function(){return Object(u.jsx)(oe,{})}}),Object(u.jsx)(j.b,{exact:!0,path:"/cards",render:function(){return Object(u.jsx)(le,{})}}),Object(u.jsx)(j.b,{path:"/404",render:function(){return Object(u.jsx)(b,{})}}),Object(u.jsx)(j.a,{path:"*",to:"/404"})]})})},be=function(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{}),Object(u.jsx)(je,{})]})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},he=n(24),xe=n(38),fe=Object(he.b)({packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PACKS":return Object(f.a)(Object(f.a)({},e),{},{cardPacks:t.cardPacks});case"ADD-PACK":return Object(f.a)(Object(f.a)({},e),{},{newPackTitle:t.newPackTitle});case"DELETE-PACK":return e.cardPacks.filter((function(e){return e._id!==t.id}));default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-ERROR-TEXT":return Object(f.a)(Object(f.a)({},e),{},{errorText:t.errorText});case"SET-ADDED-USER":return Object(f.a)(Object(f.a)({},e),{},{addedUser:!0});case"SET-LOADING-STATUS":return Object(f.a)(Object(f.a)({},e),{},{loadingStatus:t.loadingStatus});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(f.a)(Object(f.a)({},e),{},{isLoggedIn:t.value});case"login/SET-ERROR-TEXT-LOGGED-IN":return Object(f.a)(Object(f.a)({},e),{},{errorText:t.errorText});case"login/CHANG-CHECKBOX-LOGGED-IN":return Object(f.a)(Object(f.a)({},e),{},{rememberMe:t.rememberMe});case"APP/SET-STATUS":return Object(f.a)(Object(f.a)({},e),{},{loadingStatus:t.loadingStatus});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/FORGOT-PASSWOR":return Object(f.a)(Object(f.a)({},e),{},{forgotPassword:t.forgotPassword});case"CARDS/SET-APP-STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case"CARDS/SET-APP-ERROR":return Object(f.a)(Object(f.a)({},e),{},{error:t.error});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CARDS":return Object(f.a)(Object(f.a)({},e),{},{cards:t.cards});default:return e}}}),pe=Object(he.c)(fe,Object(he.a)(xe.a));window.store=pe,s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(v.a,{store:pe,children:Object(u.jsx)(be,{})})}),document.getElementById("root")),Oe()},9:function(e,t,n){e.exports={nav:"Header_nav__22THU",item:"Header_item__ssK_c",active:"Header_active__1MFs-"}}},[[72,1,2]]]);
//# sourceMappingURL=main.67ebe058.chunk.js.map